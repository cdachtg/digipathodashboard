<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>DigiPatho — Demographic & Risk Factor Analysis (Full Prototype)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --card:#0b1220; --muted:#94a3b8; --accent:#06b6d4;
      --text:#e6eef8;
    }
    html,body{
      margin:0; font-family:Inter,system-ui;
      background:linear-gradient(180deg,#071226,#071826);
      color:var(--text);
    }
    .container{max-width:1200px; margin:18px auto; padding:18px;}
    .card{background:var(--card); padding:14px; border-radius:10px; border:1px solid rgba(255,255,255,0.04);}
    .top-nav{padding:12px 0; border-bottom:1px solid rgba(255,255,255,0.05);}
    .nav-center{display:flex; justify-content:center; gap:24px; flex-wrap:wrap;}
    .nav-center a{color:var(--muted); text-decoration:none; font-weight:600;}
    .nav-center a.active{color:var(--accent);}
    h2{margin:8px 0 14px;}
    .small{font-size:12px; color:var(--muted);}
    .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:14px;}
    .grid-3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px;}
    .grid-4{display:grid; grid-template-columns:repeat(4,1fr); gap:14px;}
    canvas{width:100% !important; height:260px !important;}
    select,input{background:#071226; color:var(--text); border:1px solid rgba(255,255,255,0.15); padding:8px; border-radius:8px;}
    .btn{background:var(--accent); color:#022; border:none; padding:9px 16px; border-radius:8px; font-weight:700;}
    .filter-bar{display:flex; gap:12px; flex-wrap:wrap; align-items:end;}
    .filter-group label{font-size:12px; color:var(--muted); display:block; margin-bottom:4px;}
    .kpi{background:var(--card); padding:14px; border-radius:10px; text-align:center;}
    .kpi h3{margin:0; font-size:12px; color:var(--muted);}
    .kpi p{margin:6px 0 0; font-size:22px; font-weight:800;}
  </style>
</head>
<body>

<div class="top-nav">
  <div class="nav-center">
    <a href="analytics_dashboard.html">Camp Analytics</a>
    <a href="disease_analytics_dashboard.html">Disease Analytics</a>
    <a href="survey_analytics_dashboard_full_v2.html">Survey Analytics</a>
    <a href="#" class="active">Demographic & Risk Factor Analysis</a>
  </div>
</div>

<div class="container">
  <h2>DigiPatho — Demographic & Risk Factor Analysis</h2>

  <!-- Filters -->
  <div class="card" style="margin-bottom:14px;">
    <div class="filter-bar">
      <div class="filter-group">
        <label>District</label>
        <select><option>All Districts</option><option>Wayanad</option></select>
      </div>
      <div class="filter-group">
        <label>Age Group</label>
        <select><option>All</option><option>18–29</option><option>30–44</option><option>45–59</option><option>60+</option></select>
      </div>
      <div class="filter-group">
        <label>Gender</label>
        <select><option>All</option><option>Male</option><option>Female</option></select>
      </div>
      <div class="filter-group">
        <label>Date From</label><input type="date"/>
      </div>
      <div class="filter-group">
        <label>Date To</label><input type="date"/>
      </div>
      <button class="btn">Apply</button>
    </div>
  </div>

  <!-- KPIs -->
  <div class="grid-4" style="margin-bottom:14px;">
    <div class="kpi"><h3>Individuals Analysed</h3><p>4,980</p></div>
    <div class="kpi"><h3>≥1 Risk Factor</h3><p>2,140</p></div>
    <div class="kpi"><h3>Lifestyle Risk %</h3><p>38%</p></div>
    <div class="kpi"><h3>Chronic Risk %</h3><p>31%</p></div>
  </div>

  <!-- Demographics -->
  <div class="grid-2">
    <div class="card"><div class="small">Age Distribution</div><canvas id="ageChart"></canvas></div>
    <div class="card"><div class="small">Gender Distribution</div><canvas id="genderChart"></canvas></div>
  </div>

  <!-- Lifestyle -->
  <div class="grid-3" style="margin-top:14px;">
    <div class="card"><div class="small">Alcohol Use</div><canvas id="alcoholChart"></canvas></div>
    <div class="card"><div class="small">Smoking</div><canvas id="smokingChart"></canvas></div>
    <div class="card"><div class="small">Tobacco Use</div><canvas id="tobaccoChart"></canvas></div>
  </div>

  <!-- Risk prevalence -->
  <div class="card" style="margin-top:14px;">
    <div class="small">Disease / Symptom Risk Prevalence</div>
    <canvas id="riskChart"></canvas>
  </div>
</div>

<!-- Chart.js MUST be loaded first -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

<script>
window.onload = function(){

  new Chart(document.getElementById('ageChart'),{
    type:'bar',
    data:{labels:['18–29','30–44','45–59','60+'],
      datasets:[{data:[920,1480,1620,960], backgroundColor:'#60a5fa'}]},
    options:{plugins:{legend:{display:false}}}
  });

  new Chart(document.getElementById('genderChart'),{
    type:'doughnut',
    data:{labels:['Male','Female'],
      datasets:[{data:[2600,2380], backgroundColor:['#06b6d4','#f472b6']}]}
  });

  new Chart(document.getElementById('alcoholChart'),{
    type:'doughnut',
    data:{labels:['Alcohol Use','No Alcohol'],
      datasets:[{data:[1280,3700], backgroundColor:['#f59e0b','#22c55e']}]}
  });

  new Chart(document.getElementById('smokingChart'),{
    type:'doughnut',
    data:{labels:['Smoking','Non-Smoking'],
      datasets:[{data:[980,4000], backgroundColor:['#ef4444','#22c55e']}]}
  });

  new Chart(document.getElementById('tobaccoChart'),{
    type:'doughnut',
    data:{labels:['Tobacco Use','No Tobacco'],
      datasets:[{data:[1520,3460], backgroundColor:['#f97316','#22c55e']}]}
  });

  new Chart(document.getElementById('riskChart'),{
    type:'bar',
    data:{labels:['Oral','Breast','Uterine','Diabetes','Hypertension','Respiratory','Mental','Eye','Genetic'],
      datasets:[{data:[980,420,360,760,820,410,210,530,140], backgroundColor:'#06b6d4'}]},
    options:{plugins:{legend:{display:false}}}
  });

}
</script>

</body>
</html>
